## 1. 概述

Adaptive Replacement Cache（ARC）是一种缓存替换算法，用于提高缓存的命中率。ARC 动态调整缓存策略，以适应实际的访问模式，从而在不确定的工作负载下表现良好。它通过同时维护两个缓存列表来追踪最近使用和频繁使用的数据块，并根据访问模式在这两个列表之间动态分配缓存空间。

## 2. 基本概念

ARC 使用两个LRU队列（T1和T2）和两个历史列表（B1和B2）：

- **T1**: 存储一次命中（recently used once）的缓存项。
- **T2**: 存储多次命中（recently used multiple times）的缓存项。
- **B1**: 存储曾经在T1中，但已经被移除的缓存项。
- **B2**: 存储曾经在T2中，但已经被移除的缓存项。

## 3. 主要操作

- **缓存命中**：如果缓存项在T1或T2中，则为缓存命中。
- **缓存未命中**：如果缓存项不在T1和T2中，则为缓存未命中。

ARC的核心操作如下：

1. **插入**：
   - 若新缓存项在T1或T2中，则移动到T2的前端。
   - 若不在T1或T2中，则插入到T1的前端。
2. **调整缓存大小**：
   - 若新缓存项在B1中，则表明最近访问模式偏向于访问新的缓存项，增加T1的容量。
   - 若新缓存项在B2中，则表明最近访问模式偏向于访问频繁访问的缓存项，增加T2的容量。
3. **替换**：
   - 根据动态调整的容量，从T1或T2中移除最旧的缓存项，并将其元数据移动到B1或B2。
